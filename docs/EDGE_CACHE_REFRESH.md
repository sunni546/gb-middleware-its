# Edge 캐시 갱신

## 1. 수동 캐시 갱신 API
**위치**: `EdgeCacheController.java`

```bash
POST /api/edge/cache/refresh
```

**사용법**:
```bash
curl -X POST http://localhost:8080/api/edge/cache/refresh
```

## 2. 스케줄러를 통한 주기적 갱신
**위치**: `EdgeCacheScheduler.java`

**설정**:
```yaml
edge:
  cache:
    scheduler:
      enabled: true   # false : 스케줄러 비활성화
      cron: "0 0 0 * * *"
```

**cron 표현식 예시**:
- `"0 */10 * * * *"` : 10분마다
- `"0 0 */1 * * *"` : 1시간마다  
- `"0 0 0 * * *"` : 매일 자정

---

## 권장 운영 방안

### 개발/테스트 환경
- **스케줄러**: 5-10분 간격으로 설정
- **수동 API**: 개발자가 필요시 즉시 갱신

### 운영 환경  
- **스케줄러**: 매일 자정으로 설정 (시스템 부하 고려)
- **수동 API**: 긴급 변경사항 발생 시 사용

## 주의사항

1. **성능 영향**: 캐시 갱신 시 DB 조회가 발생하므로 적절한 주기 설정 필요
2. **동시성**: 캐시 갱신 중 동시 요청 처리 방안 고려
3. **로깅**: 캐시 갱신 상태를 모니터링할 수 있도록 충분한 로그 출력
4. **장애 복구**: 캐시 갱신 실패 시 재시도 로직 고려
